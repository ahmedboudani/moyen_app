{% extends "base.html" %}

{% block title %}علامات التلميذ{% endblock %}

{% block content %}
<div class="container">
  <div class="general1">
    <p>📌 مديرية التربية لولاية: {{ general_info.directorate if general_info else '' }}</p>
    <p>🏫 المؤسسة: {{ general_info.institution if general_info else '' }}</p>
  </div>
  <div class="general2">
    <p>👨‍🏫 الأستاذ: {{ general_info.teacher if general_info else '' }}</p>
    <p>📚 المادة: {{ general_info.subject if general_info else '' }}</p>
  </div>
  <hr>

  <h2>📑 علامات التلميذ: {{ student.fullname }}</h2>
<center>
 <table border="1" width="100%" style="direction: rtl; text-align: center; width: 50%;">
    <tr>
      <th>الفصل الدراسي</th>
      <th>التقويم</th>
      <th>الفرض</th>
      <th>الاختبار</th>
      <th>إجراءات</th>
    </tr>

    {% if grades %}
      {% for g in grades %}
      <tr>
        <td>{{ g.semester }}</td>
        <td>{{ g.assessment }}</td>
        <td>{{ g.test }}</td>
        <td>{{ g.exam }}</td>
        <td><a href="{{ url_for('edit_grade', grade_id=g.id) }}">✏️ تعديل</a></td>
      </tr>
      {% endfor %}
    {% else %}
      <tr>
        <td colspan="5">لا توجد علامات لهذا التلميذ</td>
      </tr>
    {% endif %}
  </table>
</center>
 
  <hr>
  <h2>➕ إضافة علامة جديدة</h2>
  <center>
<form class="grade-form" method="post" action="{{ url_for('grades', student_id=student.id) }}">
  <div class="semestres-input">
      <label for="semester">الفصل الدراسي:</label>
      <select name="semester" required>
          {% for semester in semesters %}
              <option value="{{ semester }}">{{ semester }}</option>
          {% endfor %}
      </select>
  </div>
  <div>
      <label for="assessment">التقويم:</label>
      <input type="number" step="0.25" name="assessment" value="0">
      <label for="test">الفرض:</label>
      <input type="number" step="0.25" name="test" value="0">
      <label for="exam">الاختبار:</label>
      <input type="number" step="0.25" name="exam" value="0">
      <button type="submit">➕ إضافة</button>
  </div>
</form>

  </center>
  
</div>
<Style>
  .container {
  width: 98%;
  background-color:#d8d8e2;
  padding:10px;
  border-radius: 10px;
  box-shadow: 0px 4px 12px ;
  text-align: center;
  margin: auto;
  margin-top: 0px;
}
.semestres-input{
  width:30%;
  display: flex;
  justify-content: center;
  align-items: center;
}
.grade-form{
  display: flex;
  justify-content: center;
}
.grade-form div {
    display: flex;
    align-items: center;
    margin-bottom: 10px;
}

.grade-form label {
    margin-right: 10px;
    white-space: nowrap;
}

.grade-form input,
.grade-form select,
.grade-form button {
    margin-right: 15px;
}

</Style>
{% endblock %}